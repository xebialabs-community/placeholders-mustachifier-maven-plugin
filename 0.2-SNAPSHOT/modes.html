<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-07-11 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140711" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Mustachifier Plugin - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarEnabled">
          
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="keys.html"  title="Example: Generate Keys">Example: Generate Keys</a>
</li>
                  
                      <li>      <a href="values.html"  title="Example: Generate Values">Example: Generate Values</a>
</li>
                  
                      <li>      <a href="placeholders.html"  title="Example: Generate Placeholders">Example: Generate Placeholders</a>
</li>
                  
                      <li>      <a href="archives.html"  title="Example: Managing Archives">Example: Managing Archives</a>
</li>
                  
                      <li>      <a href="modes.html"  title="Example: Switching between modes">Example: Switching between modes</a>
</li>
                  
                      <li>      <a href="plugin-info.html"  title="Goals">Goals</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="plugin-info.html"  title="Plugin Documentation">Plugin Documentation</a>
</li>
                                  <li>      <a href="dev-activity.html"  title="Developer Activity">Developer Activity</a>
</li>
                                  <li>      <a href="file-activity.html"  title="File Activity">File Activity</a>
</li>
                                  <li>      <a href="changelog.html"  title="Change Log">Change Log</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.xebialabs.com" id="bannerLeft">
                                                                                                <img src="images/mustache.png"  alt="XebiaLabs"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-07-11
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.2-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="keys.html" title="Example: Generate Keys">
          <i class="none"></i>
        Example: Generate Keys</a>
            </li>
                
      <li>
  
                          <a href="values.html" title="Example: Generate Values">
          <i class="none"></i>
        Example: Generate Values</a>
            </li>
                
      <li>
  
                          <a href="placeholders.html" title="Example: Generate Placeholders">
          <i class="none"></i>
        Example: Generate Placeholders</a>
            </li>
                
      <li>
  
                          <a href="archives.html" title="Example: Managing Archives">
          <i class="none"></i>
        Example: Managing Archives</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Example: Switching between modes</a>
          </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Switching between modes</h1>

<p>The typical use cases is often to generate values for developers and to generate keys when packaging and deploying.
To solve this issue, it is possible to use the Maven Profiles.</p>

<pre><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;com.xebialabs.utils&lt;/groupId&gt;
            &lt;artifactId&gt;placeholders-mustachifier-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;0.2-SNAPSHOT&lt;/version&gt;
            &lt;configuration&gt;
                &lt;delimiters&gt;{{ }}&lt;/delimiters&gt;
                &lt;filesets&gt;
                    &lt;fileset&gt;
                        &lt;directory&gt;target/classes/META-INF&lt;/directory&gt;
                        &lt;include&gt;*.xml&lt;/include&gt;
                    &lt;/fileset&gt;
                &lt;/filesets&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;phase&gt;compile&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;${mustache.mode}&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;

    &lt;/plugins&gt;
&lt;/build&gt;
&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;for-dev&lt;/id&gt;
        &lt;properties&gt;
            &lt;mustache.mode&gt;mustache-tovalue&lt;/mustache.mode&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
    &lt;profile&gt;
        &lt;id&gt;for-xld&lt;/id&gt;
        &lt;properties&gt;
            &lt;mustache.mode&gt;mustache-tokey&lt;/mustache.mode&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre>

<p>Depending of the activated profile, the plugin will generate values or keys. If the xml file has the following content:</p>

<pre><code>&lt;Connector id="Default JDBC Database"&gt;
    JdbcDriver org.postgresql.Driver
    JdbcUrl jdbc:postgresql://localhost/mydb
    UserName {{DB_USERNAME:scott}}
    Password {{DB_PASSWORD:tiger}}
&lt;/Connector&gt;
</code></pre>

<p>To generate the values</p>

<pre><code>mvn clean package -Pfor-dev
</code></pre>

<p>And the content is :</p>

<pre><code>&lt;Connector id="Default JDBC Database"&gt;
    JdbcDriver org.postgresql.Driver
    JdbcUrl jdbc:postgresql://localhost/mydb
    UserName scott
    Password tiger
&lt;/Connector&gt;
</code></pre>

<p>To generate the keys</p>

<pre><code>mvn clean package -Pfor-xld
</code></pre>

<p>And the content is :</p>

<pre><code>&lt;Connector id="Default JDBC Database"&gt;
    JdbcDriver org.postgresql.Driver
    JdbcUrl jdbc:postgresql://localhost/mydb
    UserName {{DB_USERNAME}}
    Password {{DB_PASSWORD}}
&lt;/Connector&gt;
</code></pre>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2014.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
